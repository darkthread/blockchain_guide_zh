## 分散式記帳與區塊鏈

隨著最前沿的信息科技成果不斷融入金融行業，以區塊鏈(Blockchain)為基礎的分散式帳本科技(Distributed Ledger Technology，DLT)嶄露頭角，並在部分場景(如跨境支付)中得到探索和落地。從最早的簡單帳本到複式帳 本，再到數位化帳本，以及目前正在探索的分散式帳本，帳本科技的每次突破都會引發金融領域的重要革新，也往往對 社會生活的各個方面進一步產生階段性的影響。

### 從分散式記帳問題說起

分散式記帳問題由來已久。為了正常進行商業活動，參與者需要找到一個多方均能信任的第三方來負責記帳，確保交易記錄的準確。然而，隨著商業活動的規模越來越大，商業過程愈加動態和複雜，很多場景下難以找到符合要求的第三方記帳方（例如供應鏈領域動輒涉及來自數十個行業的數百家參與企業）。這就需要交易各方探討在分散式場景下進行協同記帳的可能性。

實際上，可以很容易設計出一個簡單粗暴的分散式記帳結構，如下圖所示方案（一）。多方均允許對帳本進行任意讀寫，一旦發生新的交易即追加到帳本上。這種情況下，如果參與多方均誠實可靠，則該方案可以正常工作；但是一旦有參與方惡意篡改已發生過的記錄，則無法確保帳本記錄的正確性。

![方案（一）：簡單分散式記帳結構](_images/dlt-01.png)

為了防止有參與者對交易記錄進行篡改，需要引入一定的驗證機制。很自然地，可以借鑑信息安全領域的數位摘要（Digital Digest）技術，從而改進為方案（二）。每次當有新的交易記錄被追加到帳本上時，參與各方可以使用 Hash 算法對完整的交易歷史計算數位摘要，獲取當前交易歷史的“指紋”。此後任意時刻，每個參與方都可以對交易歷史重新計算數位摘要，一旦發現指紋不匹配，則說明交易記錄被篡改過。同時，通過追蹤指紋改變位置，可以定位到被篡改的交易記錄。

![方案（二）：帶有數位摘要驗證的分散式記帳](_images/dlt-02.png)

方案（二）可以解決帳本記錄防篡改的問題，然而在實際生產應用時，仍存在較大缺陷。由於每次追加新的交易記錄時需要從頭對所有的歷史數據計算數位摘要，當已存在大量交易歷史時，數位摘要計算成本將變得很高。而且，隨著新交易的發生，計算耗費將越來越大，系統擴展性很差。

為了解決可擴展性的問題，需要進一步改進為方案（三）。注意到每次摘要已經確保了從頭開始到摘要位置的完整歷史，當新的交易發生後，實際上需要進行額外驗證的只是新的交易，即增量部分。因此，計算摘要的過程可以改進為對舊的摘要值再加上新的交易內容進行驗證。這樣就既解決了防篡改問題，又解決了可擴展性問題。

![方案（三）：帶有數位摘要驗證的可擴展的分散式記帳](_images/dlt-03.png)

實際上，讀者可能已經注意到，方案（三）中的帳本結構正是一個區塊鏈結構（如下圖所示）。可見，從分散式記帳的基本問題出發，可以自然推導出區塊鏈結構，這也說明了在分散式場景下的記帳問題中，區塊鏈結構是一個簡潔有效的天然答案。

![區塊鏈結構](_images/blockchain.png)

*注：當然，區塊鏈結構也並非解決分散式記帳問題的唯一答案，實際上，除了簡單的線性隊列結構，也有人提出採用樹或圖結構。*

### 區塊鏈的三次熱潮

從比特幣誕生之日算起，區塊鏈已在全球掀起了三次熱潮。

![區塊鏈的三次熱潮](_images/3-hops.png)

第一波熱潮出現在 2013 年左右。比特幣項目上線後，很長一段時間裡並未獲得太多關注。直到比特幣價格發生增長，各種加密貨幣項目紛紛出現，隱藏在其後的區塊鏈結構才首次引發大家的興趣。2014 年起，區塊鏈這個術語開始頻繁出現，但更多集中在加密貨幣和相關技術領域；

第二波熱潮出現在 2016 年前後。以區塊鏈為基礎的分散式帳本技術被證實在眾多商業領域存在應用價值。2015 年 10 月《經濟學人》封面文章《信任機器》中，正式指出區塊鏈在構建分散式帳本平臺中的重要作用，促使更多實驗性應用出現。下半年更是出現了“初始代幣發行（Initial Coin Offering，ICO）”等新型融資募集形式。這一時期，區塊鏈技術自身也有了發展和突破。2015年7月底，以太坊（Ethereum）開源項目正式上線。該項目面向公有場景針對比特幣項目的缺陷進行了改善，重點在於對通用智能合約的支持，同時優化了性能和安全性。

2015 年底，Linux 基金會牽頭髮起了超級帳本（Hyperledger）開源項目，希望聯合各行業的力量構造開放、企業級的分散式帳本技術生態。與此前的開源項目相比，超級帳本項目主要面向聯盟鏈場景，關注企業在權限管理、隱私保護和安全性能等方面的核心訴求，並積極推動技術成果在各行業的落地實踐。首批會員企業包括來自科技界和金融界的領軍企業，如IBM、Intel、Cisco、Digital Asset等。超級帳本項目自誕生後發展十分迅速，目前已經包括 10 大頂級項目，超過 240 家企業會員，並在金融、供應鏈等領域得到實踐應用。尤為值得稱道的是，超級帳本項目採取了商業友好的Apache 2.0 開源許可，吸引了眾多企業的選用。

隨著更多商業項目開始落地，從 2017 年開始至今，眾多互聯網領域的資本開始關注區塊鏈領域，人才缺口持續加大，商業和政策環境開始加強。區塊鏈已經儼然成為繼人工智能後的又一資本熱點。

分析這三次熱潮可以看出，每一次熱潮的出現都與金融行業對區塊鏈技術的深化應用密切相關。這也表明金融行業對信息科技始終保持了較高的敏感度。

### 分散式記帳的重要性

分散式記帳問題為何重要？可以類比互聯網出現後給社會帶來的重大影響。

互聯網是人類歷史上最大的分散式互聯繫統。作為信息社會的基礎設施，它很好地解決了傳遞**信息**的問題。然而，由於早期設計上的缺陷，互聯網無法確保所傳遞信息的可靠性，這大大制約了人們利用互聯網進行大規模協作的能力。而以區塊鏈為基礎的分散式帳本科技則可能解決傳遞**可信信息**的問題。這意味著基於分散式帳本科技的未來商業網路，將成為新一代的文明基礎設施——大規模協同網路。

分散式帳本科技的核心價值在於為未來多方協同網路提供可信基礎。區塊鏈引發的記帳科技的演進，將促使商業協作和組織形態發生變革。甚至世界經濟論壇執行主席 Klaus Schwab 認為 “區塊鏈是（繼蒸汽機、電氣化、計算機之後的）第四次工業革命的核心成果（Blockchains are at the heart of the Fourth Industrial Revolution）”。

### 分散式帳本的現狀與未來

類比互聯網，從科技發展的一般規律而言，筆者認為，分散式帳本科技仍處於發展早期，而商業應用已經在加速落地中，如下表所示。

階段 | 互聯網 | 區塊鏈 | 階段
-- | -- | -- | --
1974~1983 | ARPANet 內部試驗網路 | 比特幣試驗網路 | 2009~2014
1984~1993 | TCP/IP 基礎協議確立，基礎架構完成 | 基礎協議和框架探索，出現超級帳本、以太坊等開源項目 | 2014~2019?
1990s~2000s | HTTP 應用協議出現；互聯網正式進入商用領域 | 商業應用的加速落地，仍未出現殺手級應用 | 2018~？
2000s~？ | 桌面互聯網、移動互聯網、物聯網 | 分散式協同商業網路 | ？

互聯網在發展過程中，先後經歷了試驗網路、基礎架構和協議、商業應用、大規模普及等四個階段，每個階段都長達 10 年左右。其中第二個階段尤為關鍵，TCP/IP 取代了已有的網路控制協議成為核心協議，這奠定了後來全球規模互聯網的技術基礎。

作為一套前所未有的大規模協同網路，分散式帳本網路的發展很大可能也要經歷這四個階段的演化。當然，站在前人肩膀上，無論是演化速度還是決策效率，都會有不小的優勢。

客觀來看，雖然超級帳本、以太坊等開源項目在基礎協議和框架方面進行了諸多探索，並取得了重要成果，但在多帳本互聯、與已有系統的互操作性等方面還存在不足，商業應用的廣度和深度仍需實踐的考驗。

但毫無疑問，分散式帳本科技已經成為金融科技領域的重要創新，必將為金融行業創造新的發展機遇。而未來的商業協同網路，也將成為人類文明進步的重要基礎。

