## 記帳科技的千年演化

如果說金融科技（Financial Technology，Fintech）是保障社會文明的重要支柱，那麼記帳科技（Ledger Technology，或帳本科技）則是這一支柱最核心的基石。

大到國際貿易，小到個人消費，都離不開記帳這一看似普通、卻不簡單的操作。無論是資金的流轉，還是資產的交易，都依賴於銀行、交易機構正確維護其記帳系統。

毫不誇張地說，人類文明的整個發展歷程，都伴隨著帳本科技的持續演化。

目前，還少見到對帳本科技演化規律的研究，這導致了人們對其認知的侷限。近年來，以區塊鏈為基礎的分散式帳本技術飛速崛起並得到快速應用。儘管如此，卻很少有人能說清楚區塊鏈與記帳問題的關係。區塊鏈到底解決了哪些問題？為何能在金融領域產生如此巨大的影響？

按照科技發展的一般規律，可將帳本科技從古至今的演化過程大致分為四個階段：簡單帳本、複式帳本、數位化帳本、分散式帳本。各個階段的時期和特點如下表所示。

| 階段 | 時期 | 主要特點 |
| --- | --- | --- |
| 階段一：簡單帳本 | 約公元前 3500 年 ~ 15 世紀 | 使用原始的單式記帳法（Single Entry Bookkeeping） |
| 階段二：複式帳本 | 15 世紀 ~ 20 世紀中期 | 現代複式記帳法（Double Entry Bookkeeping）出現和應用 |
| 階段三：數位化帳本 | 20 世紀中期 ~ 21 世紀初 | 物理媒介帳本演化到數位化帳本 |
| 階段四：分散式帳本 | 2009 年至今 | 區塊鏈為代表的分散式帳本相關思想和技術出現 |

科技創新往往不是孤立的。帳本科技的發展也與眾多科技和商業成果的出現都息息相關，特別是商業貿易、計算技術、數據處理等，如下圖所示。

![帳本科技的演化](_images/ledger_history.png)

下面筆者將具體講述不同階段中帳本科技的發展狀況。

### 階段一：單式帳本

人類文明早期，就已經產生了記帳需求和相關活動。

已知最早的帳本是“庫辛（Kushim）泥板”，於 1929 年發掘於幼發拉底河下游右岸的伊拉克境內。據鑑定，庫辛泥板屬於公元前 3500 ~ 前 3000 年的烏魯克城（Uruk，美索不達米亞西南部蘇美爾人的古城），其內容據破譯為“37 個月收到了 29086 單位的大麥，並由庫辛籤核”。如下圖所示。

![烏魯克城的庫辛泥板](_images/kushim.png)

庫辛泥板同時也是目前已知的最古老的人類文字記錄。除了曇花一現的蘇美爾文明，包括古中國、古埃及、古希臘、古羅馬等人類早期文明，都不乏跟記帳相關的考古發現。

類似通過單條記錄進行帳目記錄的方法，被稱為“單式記帳法”或“簡單記帳法”。

此後相當長的一段時間裡（甚至到今天），人們都在使用單式記帳法進行記帳，無論是記錄在泥板、繩索，還是後來的紙質帳本，雖然物理媒介不同，但核心方法都是一致的。

簡單記帳法自然易用，適合小規模的簡易帳務，但當面對大規模、特別是涉及到多個實體的複雜記帳需求時，就暴露出不少問題。

首先是容易出錯。以庫辛帳本為例，如果大麥入庫和出庫交易記錄很多，很難確認帳本記錄跟實際情況是否匹配；即便發現不匹配，也很難定位到哪次記錄出了問題。

其次是容易篡改。帳本只有一個，只能保管在記帳者個人手裡。假設記帳者不那麼誠實，那麼，他可以輕易地通過修改已有的記錄來竊取大麥。並且很難發現帳本被篡改過。

隨著商業活動的普及、交易規模增大和參與方的增多（特別是所有者和經營者的分離），單式記帳已經難以滿足人們日益提高的記帳需求。代表現代記帳思想的“複式記帳法”應運而生。

### 階段二：複式帳本

14 世紀的意大利，是世界貿易的門戶，來自各國的商人、學者、藝術家、工匠等齊聚於此，揭開了文藝復興大時代的序幕。此後長達三個世紀裡，整個歐洲在商業、文化、藝術、科技等方面都湧現出大量創新成果，對全世界都產生了深遠的影響。其中有三項尤為引人注目：

* 宗教改革：馬丁·路德批判了當時基督教的諸多弊端，提出宗教不應有等級制度，即宗教面前人人平等，無需任何代理人或中間人；
* 樸素宇宙觀：從地心說，到日心說，再到宇宙觀形成，人類終於意識到自己並非所處世界的“中心”，甚至任何位置也可以說是宇宙的“中心”，但這並不特別或重要；
* 複式記帳法：將單一中心記錄分拆為多個科目，極大提高了篡改記錄的難度，並且方便追查錯誤根源。

這些成果雖然分屬文化、天文和金融等不同領域，但在核心思想上卻如此一致和諧，不得不令人驚訝。

關於複式記帳法的文字記載最早出現於 1494 年，意大利著名數學家盧卡·帕切奧利（Luca Pacioli）在其著作《Summa de arithmetica, geometria, Proportioni et proportionalita（算術、幾何、比及比例概要）》中介紹了算術的原理和應用、意大利各地的度量衡制度、商業記帳方法和幾何學基礎。複式記帳法演化到現在包括增減記帳法、收付記帳法、借貸記帳法三種。目前最常用的是借貸記帳法，它基於會記恆等式（資產=負債+權益），確保每筆交易都按照該恆等式進行記錄。複式記帳法一經出現便得到了廣泛的應用，成為現代會計學的重要基礎。而盧卡·帕切奧利也被譽為“會計學之父”。

複式記帳法原理並不複雜。由於交易的本質是將某種價值從來源方轉移到目標方，因此可將每筆交易分別在貸方（來源方）和借方（目標方）兩個科目進行記錄，且借貸雙方的總額應該時刻保持相等（即守恆）。

如果庫辛當年也懂得複式記帳法，當收到大麥入庫時，會分別在“庫存大麥科目”和“應收大麥科目”上都進行記錄，並且記錄數額一致。如果要做審核，可以分別對不同科目進行統計，查看其結果是否相同。可見，使用複式記帳法能很容易對交易的來龍去脈進行追蹤，而且驗證帳目是否記錄正確。實際上，比特幣的交易模型中也借鑑了複式記帳法的思想。

複式記帳法雖然解決了單個記帳人所持本地帳本可信的問題，但是仍然無法解決多方之間帳本的可信互通問題。例如，投資者如何確保所投資企業的帳目沒有作假？貿易雙方產生交易糾紛時該以誰的帳本為準？這些問題的解決要等到數百年以後了。

*注：借（Debit）：意味著債務，表示從其他方轉移到本科目內；貸（Credit）：意味著債權，代表從該科目轉移出去。*

### 階段三：數位化帳本

如果要評價 20 世紀最偉大的十大發明，數位計算機一定會入圍。它在物理世界之外開創了全新的賽博空間，為人類社會的方方面面都帶來了巨大變化。

早期計算機很重要的用途之一便是進行帳目相關的統計處理。1951年，全世界首臺商用計算機 UNIVAC，即為美國人口普查局所使用。

使用計算機，不但可以提高大規模記帳的效率，還可以避免人工操作的錯誤。為了更好的管理統計數據，人們發明了專門的數據庫技術。從最早的網狀數據庫（Network Databases）和層次數據庫（Hierarchical Databases），到開創意義的關係型數據庫（Relational Database），再到互聯網出現後大量新需求催生的大數據、NoSQL 等技術，根源上其實都與記帳問題息息相關。

在這一階段，記帳方法本身並沒有太多創新，但由於數位媒介的出現，使得帳本的規模、處理的速度、帳本的複雜度，都有了天翻地覆的提升。而這些為後來包括電子商務、互聯網金融在內的多種數位化服務奠定了技術基礎。


### 階段四：分散式帳本

複式記帳法雖然記錄了交易的來龍去脈、不易出錯，但本質上仍然是中心化模式。

中心化模式的記帳系統方便使用，但在很多情況下仍然存在不少問題：帳本掌握在個體手中，一旦出現數據丟失則無法找回；同時涉及到多個交易方的情況下，需要分別維護各自的帳本，如果出現不一致，對帳較為困難。

很自然可以想到藉助分散式系統的思想來實現分散式帳本（Distributed Ledger）：由交易多方共同維護同一個共享的分散式帳本；打通交易在不同階段的來龍去脈；同時憑藉分散式技術，進一步提高記帳的規模、效率、可靠性以及合規性。

但在分散式場景下，如何避免有參與方惡意篡改或破壞記錄？該由誰來決定將交易記錄寫到帳本中？這些問題一直沒有得到很好的解決。

2009 年 1 月，基於區塊鏈結構的比特幣網路悄然問世，它融合了現代密碼學和分散式網路技術等重要成果。此後數年裡，在純分散式場景下比特幣網路穩定支持了海量轉帳交易。這讓人們開始認識到，區塊鏈這一看似極為簡潔的數據結構，居然恰好解決了分散式記帳的基本需求，基於區塊鏈結構的分散式記帳技術開始大量出現。由於這些技術多以區塊鏈結構作為其核心的帳本結構，也往往被統稱為區塊鏈技術。

2014 年開始，金融、科技領域的專家們開始關注區塊鏈技術，並積極推動分散式帳本相關應用落地。在此過程中，對開放、先進分散式帳本平臺的需求越來越迫切。

2015 年底，三十家金融、科技領域的領軍企業（包括 IBM、Accenture、Intel、J.P.Morgan、DTCC、SWIFT、Cisco 等）聯合發起了超級帳本（Hyperledger）開源項目，並由中立的 Linux 基金會進行管理。該項目遵循 Apache v2 許可（商業友好），致力於打造一個開源、滿足企業場景的分散式帳本科技生態。圍繞企業分散式帳本的核心訴求，超級帳本社區已經發展到 10 大頂級項目，超過 240 名全球的企業會員，支撐了眾多的應用案例。

目前，基於分散式帳本技術的各種創新方案已經在包括金融、供應鏈、醫療等領域得到了不少落地應用。但筆者認為，類比互聯網的發展過程，目前分散式帳本技術整體還處於發展的初期，還存在不少尚待解決的問題，包括權限管理、隱私保護、性能優化和互操作性等。未來在這些方面的科技突破，將極大拓展分散式帳本技術的應用場景和形態，最終實現傳遞“價值”的商業協同網路。

*注：超級帳本社區來自中國的企業會員已經超過 50 家，包括百度、騰訊、華為等科技巨頭。*

### 帳本科技的未來

帳本科技歷千年而彌新，由簡單到複雜、由粗糙到精細、由中心化到分散式，這與業務需求的不斷變化密不可分。大規模、高安全、易審計等特性將越來越受到關注。

筆者相信，隨著社會文明特別是商業活動的進一步的成熟，分散式記帳的需求將更加普遍，分散式帳本科技也將更加繁榮。
